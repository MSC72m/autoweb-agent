# ابزار خودکارسازی بانک پاسارگاد 🏦

ابزار خودکارسازی وب برای سرویس‌های بانک پاسارگاد با رابط کاربری فارسی و استفاده از Playwright.

## ویژگی‌ها ✨

- 🔄 تبدیل شماره کارت به شبا
- 🔄 تبدیل شماره سپرده به شبا  
- 🔄 تبدیل شماره شبا به سپرده
- 🌐 رابط کاربری فارسی با Streamlit
- 🤖 خودکارسازی کامل با Playwright
- 🔧 نصب خودکار مرورگر Chromium

## نصب و راه‌اندازی 🚀

### ویندوز (Windows) - نصب خودکار 🪟
```batch
# دابل کلیک روی فایل setup.bat
setup.bat

# اجرای برنامه
start.bat
```

### لینوکس/WSL - نصب خودکار (توصیه شده) 🐧
```bash
# اجرای اسکریپت نصب خودکار
./setup.sh

# اجرای برنامه
streamlit run main.py
```

### نصب دستی (برای کاربران پیشرفته)
```bash
# ایجاد محیط مجازی
python3 -m venv venv

# فعال‌سازی محیط مجازی
source venv/bin/activate

# ارتقای pip
pip install --upgrade pip

# نصب کتابخانه‌ها
pip install -r requirements.txt

# نصب مرورگرهای Playwright
playwright install

# نصب وابستگی‌های سیستم (لینوکس/WSL)
playwright install-deps

# اجرای برنامه
streamlit run main.py
```

## استفاده 📋

### ویندوز:
1. دابل کلیک روی `start.bat`
2. مرورگر باز می‌شود و رابط کاربری نمایش داده می‌شود

### لینوکس/WSL:
1. برنامه را اجرا کنید: `streamlit run main.py`
2. مرورگر باز می‌شود و رابط کاربری نمایش داده می‌شود

### مراحل استفاده:
3. سرویس مورد نظر را انتخاب کنید
4. شماره مربوطه را وارد کنید
5. دکمه "اجرای عملیات" را بزنید
6. منتظر نتیجه بمانید

## ساختار فایل‌ها 📁

```
autoweb-agent/
├── main.py              # فایل اصلی برنامه
├── requirements.txt     # وابستگی‌های Python
├── setup.sh            # اسکریپت نصب خودکار (Linux/WSL)
├── setup.bat           # نصب خودکار برای ویندوز
├── start.bat           # اجرای برنامه در ویندوز
├── cleanup.bat         # پاک‌سازی محیط ویندوز
├── automate.html       # فایل HTML نمونه
├── .gitignore          # فایل‌های نادیده گرفته شده Git
└── README.md           # راهنمای استفاده
```

## ویژگی‌های اسکریپت setup.sh جدید 🆕

- 🔍 تشخیص خودکار Python و نصب در صورت عدم وجود
- 🐍 پشتیبانی از توزیع‌های مختلف لینوکس (Ubuntu, CentOS, Fedora, Arch)
- 📦 ایجاد خودکار محیط مجازی (venv)
- 🎭 نصب کامل Playwright با تمام مرورگرها
- 🎨 خروجی رنگی و واضح
- ✅ بررسی خطا و مدیریت استثناها

## عیب‌یابی 🔧

### لینوکس/WSL (روش جدید):
```bash
# اجرای مجدد اسکریپت نصب
./setup.sh

# فعال‌سازی محیط مجازی
source venv/bin/activate
```

### ویندوز:
```batch
# پاک‌سازی و نصب مجدد
cleanup.bat
setup.bat
```

### مشکل: مرورگر یافت نشد
```bash
# نصب مجدد مرورگر Playwright
python -m playwright install chromium
```

### مشکل: خطا در اجرای عملیات
```bash
# نصب وابستگی‌های سیستم
python -m playwright install-deps
```

### مشکل: خطا در WSL
```bash
# اجرای مجدد اسکریپت نصب
./setup.sh

# یا فعال‌سازی دستی محیط مجازی
source venv/bin/activate
```

## مزایای Playwright نسبت به Selenium 🎯

- ✅ نصب خودکار مرورگر
- ✅ سرعت بالاتر
- ✅ پایداری بیشتر
- ✅ عدم نیاز به ChromeDriver
- ✅ پشتیبانی بهتر از WSL

## نکات مهم ⚠️

- مطمئن شوید اتصال اینترنت برقرار است
- شماره‌ها را بدون فاصله وارد کنید
- برای شماره شبا، "IR" را وارد نکنید
- در صورت خطا، مجدداً تلاش کنید

## پشتیبانی 💬

در صورت بروز مشکل:

### ویندوز:
1. ابتدا `cleanup.bat` را اجرا کنید
2. سپس `setup.bat` را اجرا کنید
3. نسخه Python 3.7+ استفاده کنید
4. سپس start.bat را اجرا کنید.

---

**نوشته شده با ❤️ برای خودکارسازی بانکی** 